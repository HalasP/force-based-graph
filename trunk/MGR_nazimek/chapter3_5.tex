\section{Przyk³adowa implementacja: Mobilny system informacyjny}
 
Przyk³adem integracji systemu klasy Enterprise z platform¹ mobiln¹ jest
aplikacja dostarczaj¹ca spersonalizowane informacje. Ide¹, stoj¹c¹ za
stworzeniem takiego systemu, jest zagospodarowanie czasu u¿ytkowników nie
mog¹cych aktywnie wyszukiwaæ interesuj¹cych ich wiadomoœci. Z takimi sytuacjami mamy do czynienia
podczas oczekiwania na œrodki komunikacji miejskiej, a tak¿e w czasie utrudnieñ
w ruchu samochodowym. W takim momencie mo¿na zaproponowaæ lekturê najnowszych
informacji w skróconej formie. Dodatkowo czytelnik w prosty sposób mo¿e
okreœliæ, czy aktualnie pokazywane wiadomoœci interesuj¹ go, czy te¿ nie. W ten
sposób uzyskamy mo¿liwoœæ analizy zainteresowañ u¿ytkowników, tak, aby w
przysz³oœci przekazywaæ im jedynie informacje, które mog¹ ich zainteresowaæ.
Ca³a aplikacja oparta jest na przedstawionym wczeœniej szablonie, do którego
stworzony zosta³ interfejs administracyjny, zgodny z charakterem systemu.
  
\subsection{Za³o¿enia}    
Funkcjonalnoœæ systemu bêdzie oparta na nastêpuj¹cych za³o¿eniach:
\begin{itemize}
  \item {Aplikacja na urz¹dzeniu mobilnym wyœwietla krótkie,
  dostosowane do u¿ytkownika informacje}
  \item {Informacje zmieniaj¹ siê automatycznie, tak aby ograniczyæ potrzebê
  samodzielnego ich wyszukiwania}
  \item {Istnieje mo¿liwoœæ okreœlenia, czy aktualnie pokazywana wiadomoœæ jest
  dla nas interesuj¹ca, co bêdzie mia³o wp³yw na dobór kolejnych wiadomoœci}
\end{itemize}

\subsection{Wymagania systemu}

\paragraph{Infrastruktura}
Potrzebne bêdzie po³¹czenie z Internetem, dostêpne z urz¹dzenia mobilnego, jak i
z serwera, dostarczaj¹cego informacje. Dodatkowo, dla komfortowego przegl¹dania
wiadomoœci, urz¹dzenie mobilne powinno posiadaæ ekran o odpowiednio du¿ej
rozdzielczoœci (co najmniej 320x240).

\paragraph{Oprogramowanie} 
Urz¹dzenie mobilne bêdzie musia³o posiadaæ maszynê wirtualn¹ Java. Aplikacja na
serwerze bêdzie dzia³a³a pod kontrol¹ kontenera Apache Tomcat.

\subsection{Wstêpna analiza projektu} 
Przypuszczamy, ¿e system, który planujemy stworzyæ mo¿e znaleŸæ realne
zastosowanie i odnieœæ sukces rynkowy. 
 
\begin{center}
	\begin{tabular}{ | l | p{5cm} | p{5cm} | }
	\hline

 & Zalety & Wady \\ \hline
Wewnêtrzne &  Wykorzystanie popularnej platformy & Powolna lub przerywana
transmisja \\ & Niski koszt rozwi¹zania & Zbyt ma³y ekran i ma³a ergonomia
u¿ytkowania
\\ 
\hline
Zewnêtrzne & D³ugi czas spêdzany w korkach lub w œrodkach komunikacji w du¿ych
miastach & Obawa ludzi przed korzystaniem z internetu mobilnego, jako ci¹gle
zbyt drogiego \\
& Podatnoœæ ludzi na krótkie, podane w ciekawej formie informacje& \\
\hline
\end{tabular}
\end{center}


\paragraph{Podobne systemy}
Do stworzenia tego rozwi¹zania zainspirowa³ nas system wyœwietlania wiadomoœci
na stacjach i w wagonach metra. Tym, co chcielibyœmy w nim udoskonaliæ, to
mo¿liwoœæ dostarczenia spersonalizowanych, dostosowanych do ka¿dego czytelnika
informacji.


\subsection{Interfejs mobilny}

Mobilny klient naszej aplikacji jest midletem, zbudowanym w oparciu o szkielet
Kuix. Wersja instalacyjna sk³ada siê z dwóch plików :
\begin{itemize}
  \item {Archiwum jar, zawieraj¹cego midlet}
  \item {Deskryptora jad, zawieraj¹cego dane niezbêdne do instalacji aplikacji w
  trybie OTA (Over-The-Air)}
\end{itemize}

\paragraph {Menu g³ówne}

Po instalacji aplikacji w zak³adce, zawieraj¹cej listê zainstalowanych na
telefonie midletów, powinna pojawiæ siê nowa aplikacja o nazwie mINFO. Po jej
uruchomieniu zostaniemy przeniesieni do g³ównego ekranu, zawieraj¹cego trzy
opcje :
\begin{itemize}
  \item {Show news - rozpoczyna ³adowanie danych ze wskazanego serwera}
  \item {Settings - pozwala na skonfigurowanie Ÿród³a danych (serwera)}
  \item {Exit - koñczy dzia³anie midletu}
\end{itemize}

Na rysunku \ref{fig:phone_processed1} widzimy g³ówne menu aplikacji. Zosta³a ona uruchomiona w
domyœlnym œrodowisku symulacyjnym, dostarczonym razem z pakietem Netbeans
Mobility Pack.

\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.7]{img/phone_processed1.png}
    \end{center}
    \caption{Ekran startowy aplikacji}
    \label{fig:phone_processed1}
\end{figure}


\paragraph {Zak³adka Settings}

W zak³adce settings (rysunek \ref{fig:phone_processed2}) mamy mo¿liwoœæ wybrania
adresu, pod którym znajduje siê serwer, dostarczaj¹cy dane dla naszej aplikacji. Aplikacja potrafi zapamiêtaæ
kilka takich adresów. By dodaæ nowy adres, nale¿y w polu 'New feed address'
wpisaæ URL do nowego serwera, a nastêpnie wybraæ przycisk 'New feed'. Jeœli
chcemy pozbyæ siê niepotrzebnych wpisów, znajduj¹cych siê na liœcie, to
zaznaczamy wpis do usuniêcia, a nastêpnie wybieramy przycisk 'Remove feed'.
Istnieje tak¿e mo¿liwoœæ modyfikacji adresu URL serwera. S³u¿y do tego przycisk
'Edit feed'.

\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.7]{img/phone_processed2.png}
    \end{center}
    \caption{Ekran wyboru serwera wiadomoœci}
    \label{fig:phone_processed2}
\end{figure}

Zak³adkê 'Settings' po wprowadzeniu nowego adresu
serwera widzimy na rysunku \ref{fig:phone_processed3}.

\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.7]{img/phone_processed3.png}
    \end{center}
    \caption{Ekran wyboru po dodaniu nowego serwera wiadomoœci}
    \label{fig:phone_processed3}
\end{figure}


\paragraph {Dynamicznie generowane ekrany wiadomoœci}

Po wybraniu z g³ównego menu opcji 'Show news' zostajemy zalogowani jako nowy
u¿ytkownik - pod warunkiem, ¿e pierwszy raz pod³¹czamy siê do danego
serwera. W przeciwnym wypadku z pamiêci urz¹dzenia zostaje odczytana uprzednio
wygenerowana nazwa u¿ytkownika oraz has³o. Dziêki temu serwer jest w stanie
œledziæ dzia³ania wykonywane na danym urz¹dzeniu przez u¿ytkownika, poddawaæ je
analizie, a nastêpnie zmieniaæ zawartoœæ wysy³anych treœci. Ekrany z
wiadomoœciami s¹ ca³kowicie generowane po stronie serwera (nie tylko sama ich
treœæ, ale tak¿e elementy interfejsu u¿ytkownika). Przyk³adowy ekran
informacyjny widzimy na rysunku \ref{fig:phone_processed4}.

\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.7]{img/phone_processed4.png}
    \end{center}
    \caption{Ekran z wiadomoœci¹}
    \label{fig:phone_processed4}
\end{figure}

Ekrany s¹ automatycznie prze³adowywane co pewien, okreœlony z góry przedzia³
czasu. Dziêki temu, jeœli u¿ytkownik chce, to mo¿e biernie wykorzystywaæ
nasz¹ aplikacjê (w trybie nie wymagaj¹cym interakcji). 

\paragraph {Wybór preferencji odnoœnie treœci wiadomoœci}

Jeœli u¿ytkownik chce wykorzystywaæ aplikacjê w sposób interaktywny, to ma do
dyspozycji podrêczne menu okreœlenia preferencji (rysunek
\ref{fig:phone_processed5}, dotycz¹cych aktualnie ogl¹danej wiadomoœci. Mo¿e poinformowaæ system, ¿e dana wiadomoœæ go
szczególnie zainteresowa³a, lub w przeciwnym wypadku, ¿e nie chce wiêcej
dostawaæ tego typu wiadomoœci. Na podstawie udzielonych odpowiedzi system
personalizuje listê wiadomoœci, które zostan¹ wys³ane do danego u¿ytkownika.
Po wybraniu preferencji zostaje natychmiast za³adowany ekran z nastêpn¹
wiadomoœci¹.


\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.7]{img/phone_processed5.png}
    \end{center}
    \caption{Okreœlenie preferencji u¿ytkownika}
    \label{fig:phone_processed5}
\end{figure}



Druga czêœæ aplikacja dzia³a w kontenerze serwletów. Instalacja odbywa siê
poprzez umieszczenie przygotowanego archiwum w katalogu dla aplikacji. Po
przejœciu na stronê serwletu (domyœlnie: http://serwer:port/mINFO) 
Na górze mamy dostêp do edycji wiadomoœci, u¿ytkowników oraz 'tagów'. 
Po uruchomieniu widzimy listê wiadomoœci (rysunek \ref{fig:server_news_list}),
znajduj¹cych siê w systemie. Mo¿emy dodawaæ wiadomoœci rêcznie, jak i pobraæ je automatycznie z serwera
Wirtualnej Polski (dodanego g³ownie dla testów systemu).

\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.35]{img/server_news_list.png}
    \end{center}
    \caption{Lista wiadomoœci w systemie}
    \label{fig:server_news_list}
\end{figure}

Ka¿da z wiadomoœci jest w rzeczywistoœci 'ankiet¹', o której
wczeœniej pisaliœmy w opisie szablonu integracyjnego. Dostêpne odpowiedzi to
TAK i NIE, okreœlaj¹ce, czy dana wiadomoœæ jest dla u¿ytkownika interesuj¹ca
(istnieje oczywiœcie mo¿liwoœæ dodania w³asnych odpowiedzi, jednak aplikacja,
któr¹ stworzyliœmy, uwzglêdnia tylko te dwie w dalszym przetwarzaniu). 

\begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.35]{img/server_pool.png}
    \end{center}
    \caption{Edycja wiadomoœci}
    \label{fig:server_pool}
\end{figure}


Dodatkowo, ka¿d¹ wiadomoœæ mo¿emy 'otagowaæ', to znaczy przypisaæ j¹ do pewnych
kategorii tematycznych. Dziêki temu preferencje u¿ytkownika zostaj¹ uogólnione
na kategorie. Mo¿emy te¿ obejrzeæ u¿ytkowników, którzy g³osowali w okreœlony
sposób w naszej ankiecie. 
 
 \begin{figure}[htb]
    \begin{center}
    \includegraphics[angle=0,scale=0.35]{img/server_user_prefs.png}
    \end{center}
    \caption{Ustawienia i preferencje informacyjne u¿ytkownika}
    \label{server_user_prefs}
\end{figure}

Na podstawie g³osów u¿ytkownika system tworzy jego profil informacyjny, aby
serwowaæ mu informacje coraz bardziej odpowiadaj¹ce jego zainteresowaniom.
Widzimy g³osy, które odda³ u¿ytkownik na okreœlone kategorie oraz bierz¹c¹
strukturê przygotowywanych dla niego informacji. 
System na tej podstawie selekcjonuje wiadomoœci oraz przygotowuje kolejne
ekrany informacyjne dla klienta mobilnego.
